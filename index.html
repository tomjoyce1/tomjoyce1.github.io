<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>tomOS</title>
    <link rel="icon" type="image/x-icon" href="./assets/computer_2.ico" />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="./assets/computer.ico"
    />

    <link rel="stylesheet" href="https://unpkg.com/98.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="style.css" />
    <script src="script.js" defer></script>
  </head>
  <body>
    <div class="bg-image">
      <!-- backdrop grid of icons -->
      <div class="desktop-icons">
        <!-- icon 1 -->
        <div class="icon" onclick="openWindow('cvWindow')">
          <a href="assets/cv.pdf" target="_blank">
            <img src="./assets/cvresume.ico" alt="CV" />
            <span>CV/Resume</span>
          </a>
        </div>

        <!-- icon 2 linkedin -->
        <div class="icon">
          <a href="https://www.linkedin.com/in/thomasjoyce1/" target="_blank">
            <img src="./assets/linkedin.ico" alt="CV" />
            <span>LinkedIn</span>
          </a>
        </div>

        <!-- icon 3 -->
        <div class="icon">
          <a href="https://github.com/tomjoyce1" target="_blank">
            <img src="./assets/github.ico" alt="Github" />

            <span>GitHub</span>
          </a>
        </div>

        <!-- icon 4 -->
        <div class="icon" onclick="openWindow('projectsDirectory')">
          <img src="./assets/projects.ico" alt="CV" />
          <span>Projects</span>
        </div>

        <!-- icon 5 -->
        <div class="icon" onclick="openWindow('skillsPopup')">
          <img src="./assets/cd_drive.ico" alt="CV" />
          <span>Skills/Experience</span>
        </div>

        <!-- icon 6 -->
        <div class="icon" onclick="openWindow('contactPopup')">
          <img src="./assets/contact.ico" alt="CV" />
          <span>Contact</span>
        </div>

        <!-- icon 7 -->
        <div class="icon" onclick="openWindow('aboutMe')">
          <img src="./assets/aboutme.ico" alt="CV" />
          <span>About me</span>
        </div>

        <!-- icon 8 -->
        <div class="icon" onclick="openWindow('chessWindow2')">
          <img src="./assets/chess.png" alt="CV" />
          <span>Chess</span>
        </div>

        <!-- icon 8 -->
        <div class="icon" onclick="openWindow('paintWindow')">
          <img src="./assets/paint.ico" alt="CV" />
          <span>Paint</span>
        </div>
        <!-- icon 9 -->
        <div class="icon" onclick="openWindow('projectsWindow')">
          <img src="./assets/blogs.ico" alt="CV" />

          <span>Blogs</span>
        </div>
      </div>

      <!-- start menu -->
      <div id="taskbar">
        <button class="start-button" onclick="openWindow('taskBarLinks')">
          <img src="./assets/w95.png" style="height: 26px" />
        </button>
      </div>

      <!-- WINDOW windows -->

      <!-- about me -->
      <div
        class="window popup"
        id="aboutMe"
        style="
          position: absolute;
          top: 44%;
          left: 46%;
          width: 250px;
          z-index: 1200;
        "
      >
        <div class="title-bar">
          <div class="title-bar-text">About Me</div>

          <div class="title-bar-controls">
            <button aria-label="Minimize"></button>

            <button aria-label="Maximize"></button>
            <button
              onclick="closeWindow('aboutMe')"
              aria-label="Close"
            ></button>
          </div>
        </div>
        <div class="window-body">
          <p>
            • I’m studying Immersive Software Engineering<br />
            • Worked at Amazon Web Services, Johnson & Johnson and BD <br />
            • Undisputed ISE Chess Champ.
          </p>
          <section class="field-row" style="justify-content: flex-end">
            <button onclick="closeWindow('aboutMe')">OK</button>
            <button onclick="closeWindow('aboutMe')">Cancel</button>
          </section>
        </div>
      </div>

      <!-- nuke -->
      <div
        class="window popup"
        id="nuke"
        style="position: absolute; top: 312px; left: 690px; width: 250px"
      >
        <div class="title-bar">
          <div class="title-bar-text">Don't Press</div>

          <div class="title-bar-controls">
            <button aria-label="Minimize" onclick="minimiseWindow(this)></button>

            <button aria-label="Maximize" onclick="maximiseWindow(this)"></button>
            
            <button onclick="closeWindow('nuke')" aria-label="Close"></button>
          </div>
        </div>
        <div class="window-body">
          <p class="warning">⚠ WARNING: Do Not Press</p>

          <section class="field-row" style="justify-content: flex-end">
            <button id="warning-button" class="button">⚠ Launch</button>
            <button onclick="closeWindow('nuke')" >Cancel</button>
          </section>
        </div>
      </div>

      <!-- My projects popup -->
      <div
        class="window popup"
        id="projectsList"
        style="
          position: absolute;
          top: 192px;
          left: 100px;
          width: 250px;
          visibility: hidden;
        "
      >
        <div class="title-bar">
          <div class="title-bar-text">My Projects</div>

          <div class="title-bar-controls">
            <button aria-label="Minimize"></button>

            <button aria-label="Maximize"></button>
            <button
              onclick="closeWindow('projectsList')"
              aria-label="Close"
            ></button>
          </div>
        </div>
        <div class="window-body">
          <p>• Project 1 • Project 1 • Project 1 • Project 1 • Project 1</p>
          <section class="field-row" style="justify-content: flex-end">
            <button onclick="closeWindow('projectsList')">OK</button>
            <button               onclick="closeWindow('projectsList')"
>Cancel</button>
          </section>
        </div>
      </div>

      <!-- Skills/Experience popup -->
      <div
        class="window popup"
        id="skillsPopup"
        style="margin: 32px; width: 250px; display: none"
      >
        <div class="title-bar">
          <div class="title-bar-text">My Skills</div>

          <div class="title-bar-controls">
            <button aria-label="Minimize"></button>

            <button aria-label="Maximize"></button>
            <button
              onclick="closeWindow('skillsPopup')"
              aria-label="Close"
            ></button>
          </div>
        </div>
        <div class="window-body">
          <p>• skill 1 • Project 1 • Project 1 • Project 1 • Project 1</p>
          <section class="field-row" style="justify-content: flex-end">
            <button onclick="closeWindow('skillsPopup')">OK</button>
            <button               onclick="closeWindow('skillsPopup')"
>Cancel</button>
          </section>
        </div>
      </div>

      <!-- Contact Me popup -->
      <div
        class="window popup"
        id="contactPopup"
        style="margin: 32px; width: 250px; display: none"
      >
        <div class="title-bar">
          <div class="title-bar-text">Contact Me</div>

          <div class="title-bar-controls">
            <button aria-label="Minimize"></button>

            <button aria-label="Maximize"></button>
            <button
              onclick="closeWindow('contactPopup')"
              aria-label="Close"
            ></button>
          </div>
        </div>
        <div class="window-body">
          <p>• Email -</p>
          <section class="field-row" style="justify-content: flex-end">
            <button onclick="closeWindow('contactPopup')">OK</button>
            <button               onclick="closeWindow('contactPopup')"
>Cancel</button>
          </section>
        </div>
      </div>

      <!-- proj popup -->

      <div id="projectsWindow"></div>

      <script>
        fetch("ProjectsDisplay.html")
          .then((response) => response.text())
          .then((html) => {
            document.getElementById("projectsWindow").innerHTML = html;

            makePopupsDraggable();
          });
      </script>

      <!-- game -->
      <div class="window popup" id="chessWindow2" style="display: none">
        <div class="title-bar">
          <div class="title-bar-text">Chess</div>

          <div class="title-bar-controls">
            <button aria-label="Minimize"></button>

            <button aria-label="Maximize"></button>
            <button
              onclick="closeWindow('chessWindow2')"
              aria-label="Close"
            ></button>
          </div>
        </div>
        <div class="window-body">
          <iframe
            style="width: 100%; height: 550px; overflow: hidden; border: none"
            src="https://playpager.com/embed/chess/index.html"
            title="Online Chess Game"
            scrolling="no"
          ></iframe>
        </div>
      </div>

      <!-- paint -->
      <div
        class="window popup"
        id="paintWindow"
        style="
          position: absolute;
          top: 392px;
          left: 350px;
          z-index: 1000;
          width: 500px;
          height: 190px;
        "
      >
        <div class="title-bar">
          <div class="title-bar-text">Paint</div>

          <div class="title-bar-controls">
            <button aria-label="Minimize"></button>

            <button aria-label="Maximize"></button>
            <button
              onclick="closeWindow('paintWindow')"
              aria-label="Close"
            ></button>
          </div>
        </div>
        <!-- inner box -->
        <div class="window-body">
          <iframe src="https://jspaint.app" width="100%" height="100%"></iframe>
        </div>
      </div>

      <!-- taskbar hidden -->
      <div
        class="window popup"
        id="taskBarLinks"
        style="display: none; position: absolute; bottom: 40px; left: 0"
      >
        <div class="title-bar">
          <div class="title-bar-text">CV</div>

          <div class="title-bar-controls">
            <button onclick="closeWindow('taskBarLinks')"></button>
          </div>
        </div>
        <div class="window-body">
          <div>
            <p>LinkedIn</p>
            <img src="./assets/linklogo.png" />
          </div>
          <div>
            <p>GitHub</p>
            <img src="./assets/linklogo.png" />
          </div>
        </div>
      </div>

      <!-- <button onClick="openWindow('cvWindow')">Open CV but</button> -->
    </div>
  </body>

  <script>
    document.getElementById("warning-button").onclick = function () {
      setTimeout(() => {
        window.location.href = "modern.html";
      });
    };


    function minimizeWindow(button) {
  const popup = button.closest('.window.popup');
  if (!popup) return;
  popup.style.display = 'none';
}

    function maximizeWindow(button) {
      const popup = button.closest('.window.popup');
      if (!popup) return;
      // Toggle maximized state
      if (!popup.classList.contains('maximized')) {
        popup.dataset.prevStyle = popup.getAttribute('style') || '';
        popup.style.top = '0';
        popup.style.left = '0';
        popup.style.width = '100vw';
        popup.style.height = '100vh';
        popup.style.margin = '0';
        popup.classList.add('maximized');
      } else {
        // Restore previous style
        popup.setAttribute('style', popup.dataset.prevStyle);
        popup.classList.remove('maximized');
      }
    }

    // Attach handlers to all popup window buttons after DOM is loaded
window.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('.window.popup').forEach(popup => {
    const controls = popup.querySelectorAll('.title-bar-controls button');
    if (controls.length === 3) {
      controls[0].onclick = function() { minimizeWindow(this); };
      controls[1].onclick = function() { maximizeWindow(this); };
      // controls[2] is close, already set inline with closeWindow('popupId')
    }
  });
});
  </script>
</html>
